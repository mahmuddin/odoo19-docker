<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-inherit="web.ControlPanel" t-inherit-mode="extension">
        <xpath expr="//Pager/.." position="after">
            <div 
                t-if="!env.isSmall and !env.inDialog and props.display?.modeSwitch?.modeSwitcherEntries.length > 1" 
                class="btn-group d-print-none mk_mode_switch"
            >   
                <t t-if="props.display?.modeSwitch?.modeSwitcherEntries.length == 2">
                    <t t-foreach="props.display.modeSwitch.modeSwitcherEntries" t-as="switch" t-key="switch.mode">
                        <button
                            class="btn btn-secondary"
                            t-att-class="{'active': props.display.modeSwitch.currentMode.mode === switch.mode}"
                            t-on-click="switch.onSelected"
                            t-att-title="switch.name"
                            type="button"
                        >
                            <i t-att-class="switch.icon"/>
                        </button>
                    </t>
                </t>
                <t t-else="">
                    <Dropdown>
                        <button class="btn btn-secondary" t-att-title="props.display.modeSwitch.currentMode.name">
                            <i t-att-class="props.display.modeSwitch.currentMode.icon" />
                        </button>
                        <t t-set-slot="content">
                            <t t-foreach="props.display.modeSwitch.modeSwitcherEntries" t-as="switch" t-key="switch.mode">
                                <DropdownItem 
                                    class="props.display.modeSwitch.currentMode.mode === switch.mode ? 'selected' : ''"
                                    onSelected="switch.onSelected" 
                                >
                                    <i t-att-class="switch.icon"/>
                                    <span class="ms-1" t-out="switch.name"/>
                                </DropdownItem>
                            </t>
                        </t>
                    </Dropdown>
                </t>
            </div>
        </xpath>
    </t>

</templates>